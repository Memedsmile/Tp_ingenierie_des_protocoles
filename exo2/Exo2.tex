\subsection{Question 1}
 Le protocole peut être décrit par le réseau suivant : \\

\begin{comment}
\begin{figure}[H]
  \centering
  \begin{tikzpicture}
    % Liste des places
    \draw (-4,4) node[below right = 4pt] {$E_0$};
    \node[draw,circle,scale=2] (E0) at (-4, 4) {};
    \draw (-4,0) node[below right = 4pt] {$E_1$};
    \node[draw,circle,scale=2] (E1) at (-4, 0) {};
    \draw (-4,-4) node[below right = 4pt] {$E_2$};
    \node[draw,circle,scale=2] (E2) at (-4, -4) {};
    \draw (0,4) node[above right = 4pt] {$M$};
    \node[draw,circle,scale=2] (M) at (0, 4) {};
    \draw (0,0) node[below right = 4pt] {$X$};
    \node[draw,circle,scale=2] (X) at (0, 0) {};
    \draw (0,-2) node[below right = 4pt] {$ACK$};
    \node[draw,circle,scale=2] (ACK) at (0, -2) {};
    \draw (0,-6) node[below right = 4pt] {$Y$};
    \node[draw,circle,scale=2] (Y) at (0,-6) {};
    \draw (2,0) node[below right = 4pt] {$R_1$};
    \node[draw,circle,scale=2] (R1) at (2, 0) {};
    \draw (4,4) node[below right = 4pt] {$R_0$};
    \node[draw,circle,scale=2] (R0) at (4, 4) {};
    \draw (4,0) node[below right = 4pt] {$R_2$};
    \node[draw,circle,scale=2] (R2) at (4,0) {};
    \draw (4,-6) node[below right = 4pt] {$NACK$};
    \node[draw,circle,scale=2] (NACK) at (4,-6) {};

    % Liste des transitions
    \draw (-6,1) node[below = 10pt] {$e_6$};
    \node[draw,rectangle,yscale=4] (e6) at (-6, 1) {};
    \draw (-4,2) node[below right = 4pt] {$e_1$};
    \node[draw,rectangle,yscale=4] (e1) at (-4, 2) {};
    \draw (-4,-2) node[below right= 4pt] {$e_3$};
    \node[draw,rectangle,yscale=4] (e3) at (-4, -2) {};
    \draw (-4,-6) node[below = 10pt] {$e_5$};
    \node[draw,rectangle,yscale=4] (e5) at (-4, -6) {};
    \draw (-2,0) node[below = 10pt] {$e_4$};
    \node[draw,rectangle,yscale=4] (e4) at (-2, 0) {};
    \draw (0,2) node[below right = 3pt] {$mi$};
    \node[draw,rectangle,yscale=4] (mi) at (0, 2) {};
    \draw (0,-4) node[below right = 3pt] {$e_{PACK}$};
    \node[draw,rectangle,yscale=4] (epa) at (0, -4) {};
    \draw (2,2) node[below right = 3pt] {$r_1$};
    \node[draw,rectangle,yscale=4] (r1) at (2, 2) {};
    \draw (2,-2) node[below right = 3pt] {$r_3$};
    \node[draw,rectangle,yscale=4] (r3) at (2, -2) {};
    \draw (2,-6) node[below right = 3pt] {$r_{PNACK}$};
    \node[draw,rectangle,yscale=4] (rpn) at (2, -6) {};
    \draw (4,2) node[below right = 3pt] {$r_2$};
    \node[draw,rectangle,yscale=4] (r2) at (4, 2) {};
    \draw (4,-2) node[below right = 3pt] {$r_{NACK}$};
    \node[draw,rectangle,yscale=4] (rn) at (4, -2) {};


    % Liste des arcs
    \draw[->,>=latex] (E0) -- (e1);
    \draw[->,>=latex] (e1) -- (E1);
    \draw[->,>=latex] (e1) -- (M);
    \draw[->,>=latex] (E1) -- (e6);
    \draw[->,>=latex] (E1) -- (e4);
    \draw[->,>=latex] (E1) -- (e3);
    \draw[->,>=latex] (M) -- (mi);
    \draw[->,>=latex] (M) -- (r1);
    \draw[->,>=latex] (e6) -- (E0);
    \draw[->,>=latex] (e4) -- (E2);
    \draw[->,>=latex] (e3) -- (E2);
    \draw[->,>=latex] (mi) -- (X);
    \draw[->,>=latex] (r1) -- (R1);
    \draw[->,>=latex] (E2) -- (e5);
    \draw[->,>=latex] (X) -- (r2);
    \draw[->,>=latex] (R1) -- (r3);
    \draw[->,>=latex] (e5) to[out=180,in=230] (E1);
    \draw[->,>=latex] (e5) to[in=240] (M);
    \draw[->,>=latex] (r2) -- (R2);
    \draw[->,>=latex] (r3) -- (ACK);
    \draw[->,>=latex] (R2) -- (rn);
    \draw[->,>=latex] (ACK) -- (epa);
    \draw[->,>=latex] (ACK) to[out=90,in=0] (e6);
    \draw[->,>=latex] (rn) -- (NACK);
    \draw[->,>=latex] (rn) to[out=0,in=0] (R0);
    \draw[->,>=latex] (epa) -- (Y);
    \draw[->,>=latex] (NACK) -- (rpn);
    \draw[->,>=latex] (NACK) to[out=230,in=-45] (-6,-7) to[out=135,in=200] (e3);
    \draw[->,>=latex] (R0) -- (r1);
    \draw[->,>=latex] (R0) -- (r2);
    \draw[->,>=latex] (Y) -- (e4);
    \draw[->,>=latex] (rpn) -- (Y);
    \draw[->,>=latex] (R0) -- (r1);







    % Marquage 
    \draw [fill](-4,4) circle (0.1) ;
  \end{tikzpicture}
  \caption{Réseau de petri associé au protocole de communication} \label{fig:M1}
\end{figure}

\end{comment}

\begin{figure}[H]
  \centering
  \begin{tikzpicture}
    % Liste des places
    \draw (-2,4) node[below right = 4pt] {$E$};
    \node[draw,circle,scale=2] (E) at (-2, 4) {};
    \draw (-6,-2) node[below right = 4pt] {$ACK$};
    \node[draw,circle,scale=2] (ACK) at (-6, -2) {};
    \draw (-2,0) node[below = 6pt] {$M$};
    \node[draw,circle,scale=2] (M) at (-2,0) {};
    \draw (-2,-4) node[below right = 4pt] {$R$};
    \node[draw,circle,scale=2] (R) at (-2, -4) {};
    \draw (0,2) node[below right = 4pt] {$Att$};
    \node[draw,circle,scale=2] (At) at (0, 2) {};
    \draw (2,4) node[below right = 4pt] {$Re$};
    \node[draw,circle,scale=2] (Re) at (2,4) {};
    \draw (2,-2) node[below right = 4pt] {$NACK$};
    \node[draw,circle,scale=2] (NACK) at (2,-2) {};

    % Liste des transitions
    \draw (-6,0) node[below right= 4pt] {$T_3$};
    \node[draw,rectangle,yscale=4] (T3) at (-6, 0) {};
    \draw (-4,-0.5) node[below right = 4pt] {$T_2$};
    \node[draw,rectangle,yscale=4] (T2) at (-4, -0.5) {};
    \draw (-4,-2) node[below right= 4pt] {$T_4$};
    \node[draw,rectangle,yscale=4] (T4) at (-4, -2) {};
    \draw (-2,2) node[left = 4pt] {$T_1$};
    \node[draw,rectangle,yscale=4] (T1) at (-2, 2) {};
    \draw (0,4) node[below right= 4pt] {$T_7$};
    \node[draw,rectangle,yscale=4] (T7) at (0, 4) {};
    \draw (0,-2) node[below right = 3pt] {$T_8$};
    \node[draw,rectangle,yscale=4] (T8) at (0, -2) {};
    \draw (2,2) node[below right = 3pt] {$T_5$};
    \node[draw,rectangle,yscale=4] (T5) at (2, 2) {};
    \draw (4,2) node[below right = 3pt] {$T_6$};
    \node[draw,rectangle,yscale=4] (T6) at (4, 2) {};


    % Liste des arcs
    \draw[->,>=latex] (E) -- (T1);
    \draw[->,>=latex] (T1) -- (M);
    \draw[->,>=latex] (T1) -- (At);
    \draw[->,>=latex] (M) -- (T4);
    \draw[->,>=latex] (M) -- (T8);
    \draw[->,>=latex] (At) to[out=210,in=45] (T3);
    \draw[->,>=latex] (At) to[out=230,in=45] (T2);
    \draw[->,>=latex] (At) -- (T5);
    \draw[->,>=latex] (At) to[out=45, in=135] (T6);
    \draw[->,>=latex] (T4) -- (ACK);
    \draw[->,>=latex] (T4) to[bend left=35] (R);
    \draw[->,>=latex] (T8) -- (NACK);
    \draw[->,>=latex] (T8) to[bend left=35] (R);
    \draw[->,>=latex] (T3) to[out=90,in=115](Re);
    \draw[->,>=latex] (T2) -- (E);
    \draw[->,>=latex] (T5) -- (Re);
    \draw[->,>=latex] (T6) to[bend right=40] (Re);
    \draw[->,>=latex] (ACK) -- (T3);
    \draw[->,>=latex] (ACK) -- (T2);
    \draw[->,>=latex] (R) to[bend left=35] (T4);
    \draw[->,>=latex] (R) to[bend left=35] (T8);
    \draw[->,>=latex] (NACK) -- (T5);
    \draw[->,>=latex] (NACK) -- (T6);
    \draw[->,>=latex] (Re) -- (T7);
    \draw[->,>=latex] (T7) -- (At);
    \draw[->,>=latex] (T7) to[bend right=20] (M);

    %Marquage
    \draw [fill](-2,4) circle (0.1) ;
    \draw [fill](-2,-4) circle (0.1) ;

  \end{tikzpicture}
  \caption{Réseau de petri associé au protocole de communication} \label{fig:M1}
\end{figure}

\newpage

\subsection{Question 2}

Nous allons représenter le marquagepar un vecteur de la forme :\\
\begin{center}
  (E Att M Re ACK NACK R)\\
\end{center}
où chaque symbole i correspond au nombre de jeton contenu dans la place i.\\
Ainsi $M_0 = (1\ 0\ 0\ 0\ 0\ 0\ 1)$ indique qu'il y a un jeton en E et en R.

\begin{figure}[H]
  \centering
  \begin{tikzpicture}
    % Liste des Marquage
    \node (M0) at (0,6) {$(1\ 0\ 0\ 0\ 0\ 0\ 1)$};
    \node (M1) at (0,4) {$(0\ 1\ 1\ 0\ 0\ 0\ 1)$};
    \node (M2) at (-2,2) {$(0\ 1\ 0\ 0\ 1\ 0\ 1)$};
    \node (M3) at (2,2) {$(0\ 1\ 0\ 0\ 0\ 1\ 1)$};
    \node (M4) at (-3,0) {$(0\ 0\ 0\ 1\ 0\ 0\ 1)$};
    \node (M5) at (0,0) {$(0\ 0\ 0\ 1\ 0\ 0\ 1)$};
    \node (M6) at (3,0) {$(0\ 1\ 1\ 0\ 0\ 0\ 1)$};
  

    % Liste des arcs
    \draw[->,>=latex] (M0) -- (M1) node[midway, right]{$t_1$};
    \draw[->,>=latex] (M1) -- (M2) node[midway, right]{$t_4$};
    \draw[->,>=latex] (M1) -- (M3) node[midway, right]{$t_8$};
    \draw[->,>=latex] (M2) to[bend left=45] node[midway, right]{$t_2$} (M0);
    \draw[->,>=latex] (M2) -- (M4) node[midway, right]{$t_3$};
    \draw[->,>=latex] (M3) to[bend right=30] node[midway, left]{$t_5$} (M5);
    \draw[->,>=latex] (M3) to[bend left=30]  node[midway, left]{$t_6$} (M5);
    \draw[->,>=latex] (M4) to[bend right=45] node[midway,left]{$t_7$} (M1);
    \draw[->,>=latex] (M5) -- (M6) node[midway, below]{$t_7$};
    \draw[->,>=latex] (M6) to[out=230,in=-30] node[midway, below]{$t_4$} (-4,-1) to[out=150,in=230] (M2);
    \draw[->,>=latex] (M6) -- (M3) node[midway, below]{$t_8$};

  \end{tikzpicture}
  \caption{Graphe des marquages accessibles} \label{fig:M10}
\end{figure}

\subsection{Question 3}

On a dans notre réseau :
\begin{center}
  $a\ =\ T_1\ et\ b\ =\ T_4$
\end{center}

Lors de l'émission d'un message m par l'émetteur, $T_1$ fait transité |m| caractères.\\
On va considérer que l'ensemble du message est reconnu et accepté par le recepteur.\\
Ainsi, $T_4$ fait également transité |m| caractère.\\
Le recepteur envoie alors un ACK et retourne au repos.\\
A ce moment, l'envoie du ACK peut être perturber et transformer en Y. L'emetteur recevant un Y se mat alors en état de réémission et renvoie le message m.\\
Le recepteur le reçoit donc de nouveau.\\
En considerant que le message est reconnu par le recepteur $T_4$ fait à nouveau transité |m| caractère.\\
Le récepteur envoie à nouveau un ACK et nous allons considerer qu'il n'est pas perturber et donc reçu par l'émetteur.\\
Les deux retourne donc à l'état de repos.\\

En notant $w$ la ligne décrite ci-dessus, on a $|T_1|_w = |m|$ et $|T_4|_w = 2|m|$\\
On a donc bien :
\begin{center}
  $|a|_w < |b|_w$
\end{center}

\subsection{Question 4}


\subsection{Question 5}

\vspace{1cm}

\begin{center}

{\Huge C}\qquad =\qquad $\bordermatrix{
    &t_1 &t_2 &t_3 &t_4 &t_5 &t_6 &t_7 &t_8\cr
E   & -1& 1 & 0 & 0 & 0 & 0 & 0 & 0\cr
Att & 1 &-1 &-1 & 0 &-1 &-1 & 1 & 0\cr
M   & 1 & 0 & 0 &-1 & 0 & 0 & 1 &-1\cr
NACK& 0 & 0 & 0 & 0 &-1 &-1 & 0 & 1\cr
ACK & 0 &-1 &-1 & 1 & 0 & 0 & 0 & 0\cr
R   & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0\cr
Re  & 0 & 0 & 1 & 0 & 1 & 1 &-1 & 0\cr
}$

\end{center}

\subsection{Question 6}
Soit $F=(f_1\ f_2\ f_3\ f_4\ f_5\ f_6\ f_7)$ le vecteur générique de T-flots.\\
On cherche : 
\begin{center}

$\begin{pmatrix}
-1 & 1 & 0 & 0 & 0 & 0 & 0 & 0\\
 1 &-1 &-1 & 0 &-1 &-1 & 1 & 0\\
 1 & 0 & 0 &-1 & 0 & 0 & 1 &-1\\
 0 & 0 & 0 & 0 &-1 & 0 & 1 & 1\\
 0 &-1 &-1 & 1 & 0 &-1 & 0 & 0\\
 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0\\
 0 & 0 & 1 & 0 & 1 & 1 &-1 & 0
\end{pmatrix}
\begin{pmatrix}
f_1\\
f_2\\ 
f_3\\ 
f_4\\ 
f_5\\ 
f_6\\ 
f_7
\end{pmatrix}
=0
$

\vspace{0.5cm}

$\rightarrow 
\begin{cases}
f_1 = f_2\\
f_1 - f_2 - f_3 - f_5 - f_6 + f_7 = 0\\
f_1 - f_4 + f_7 - f_8 = 0\\
-f_5 - f_6 + f_8 = 0\\
-f_2 - f_3 + f_4 = 0\\
f_3 + f_5 + f_6 - f_7 = 0
\end{cases}$

\vspace{0.5cm}

$\rightarrow 
\begin{cases}
f_1 = f_2\\
- f_3 - f_5 - f_6 + f_7 = 0\\
f_1 - f_4 + f_7 - f_8 = 0\\
-f_5 - f_6 + f_8 = 0\\
-f_2 - f_3 + f_4 = 0\\
f_3 + f_5 + f_6 - f_7 = 0
\end{cases}$

\vspace{0.5cm}

$\rightarrow 
\begin{cases}
f_2 = f_1\\
f_8 = f_5 + f_6\\
f_7 = f_3 + f_5 + f_6\\
f_4 = f_1 + f_3
\end{cases}$

\newpage

Ainsi, le vecteur générique de T-flots $F=(f_1\ \ f_1\ \ f_3\ \ f_1+f_3\ \ f_5\ \ f_6\ \ f_3+f_5+f_6\ \ f_5+f_6)$\\
On obtient donc 4 T-flots :\\
$F_1\ =\ (1\ 1\ 0\ 1\ 0\ 0\ 0\ 0)$\\
$F_2\ =\ (0\ 0\ 1\ 1\ 0\ 0\ 1\ 0)$\\
$F_3\ =\ (0\ 0\ 0\ 0\ 1\ 0\ 1\ 1)$\\
$F_4\ =\ (0\ 0\ 0\ 0\ 0\ 1\ 1\ 1)$\\

\vspace{0.5cm}

Ce qui est confirmé par le logiciel TINA :\\
\includegraphics[width=0.35\textwidth]{images/tflots2.png}\\
\end{center}

Les séquences répétitives du réseau :\\
Les T-flots nous donnent les composantes répétitives $T(S_i)$, c'est à dire l’ensemble des
transitions qui apparaissent dans la séquence répétitive $S_i$.\\
Il nous faut donc remettre les transitions de chaque composante dans le bon ordre pour obtenir les séquence répétitive.\\
$F_1\ =\ (1\ 1\ 0\ 1\ 0\ 0\ 0\ 0)\ \rightarrow\ T(S_1) = {t_1,\ t_2,\ t_4} \rightarrow S_1 =t_1,\ t_4,\ t_2$\\
$F_2\ =\ (0\ 0\ 1\ 1\ 0\ 0\ 1\ 0)\ \rightarrow\ T(S_2) = {t_3,\ t_4,\ t_7} \rightarrow S_1 =t_3,\ t_7,\ t_4$\\
$F_3\ =\ (0\ 0\ 0\ 0\ 1\ 0\ 1\ 1)\ \rightarrow\ T(S_1) = {t_5,\ t_7,\ t_8} \rightarrow S_1 =t_5,\ t_7,\ t_8$\\
$F_4\ =\ (0\ 0\ 0\ 0\ 0\ 1\ 1\ 1)\ \rightarrow\ T(S_1) = {t_6,\ t_7,\ t_8} \rightarrow S_1 =t_6,\ t_7,\ t_8$\\

\subsection{Question 7}

Soit $P=(p_E\ p_{Att}\ p_M\ p_{NACK}\ p_{ACK}\ p_R\ p_{Re})$ le vecteur générique de P-semi-flots.\\
Les P-semi-flots du reseau sont :
\begin{itemize}
\item $P_1$ = (0 0 0 0 0 1 0)
\item $P_2$ = (1 1 0 0 0 0 1)
\item $P_3$ = (1 0 1 1 1 0 1)
\end{itemize}

Chaque P-semi-flot $P_i$ nous donne une composante conservatrice du réseau, et par définition, toute place $p$ de cette composante est borné et l’on a : $M(p) \leq (^TP_i \cdot M_0)/p_j$.\\
Ainsi, on a :
\begin{itemize}
\item $P_1 \rightarrow R$ est bornée et $M(R) \leq (^TP_1 \cdot M_0)/p_{1_R} = 1$

\item $P_2 \rightarrow 
\begin{cases}
$E est bornée et  $M(E) \leq (^TP_2 \cdot M_0)/p_{2_R} = 1\\
$Att est bornée et  $M(Att) \leq (^TP_2 \cdot M_0)/p_{2_{Att}} = 1\\
$E est bornée et  $M(Re) \leq (^TP_2 \cdot M_0)/p_{2_{Re}} = 1
\end{cases}$

\item $P_3 \rightarrow 
\begin{cases}
$M est bornée et  $M(M) \leq (^TP_3 \cdot M_0)/p_{3_M} = 1\\
$NACK est bornée et  $M(NACK) \leq (^TP_3 \cdot M_0)/p_{3_{NACK}} = 1\\
$ACK est bornée et  $M(ACK) \leq (^TP_3 \cdot M_0)/p_{3_{ACK}} = 1
\end{cases}$

\end{itemize}

Donc toute les places du réseau sont bornée, ce qui implique que le réseau est borné.

\subsection{Question 8}
Nous avons choisit d'étiqueter les transitions du réseau de la manière suivante :
\begin{itemize}
\item $T_1$ reçoit l'étiquette $M_E$ pour ``Message envoyé''
\item $T_2$ reçoit l'étiquette $M_A$ pour ``Message ACK envoyé''
\item $T_3$ reçoit l'étiquette $Y_A$ pour ``Message ACK pertubé en Y''
\item $T_4$ reçoit l'étiquette $M_R$ pour ``Message reconnu''
\item $T_5$ reçoit l'étiquette $Y_N$ pour ``Message NACK pertubé en Y''
\item $T_6$ reçoit l'étiquette $M_N$ pour ``Message NACK envoyé''
\item $T_7$ reçoit l'étiquette $M_{Re}$ pour ``Message renvoyé''
\item $T_8$ reçoit l'étiquette $M_P$ pour ``Message Perturbé''
\end{itemize}

\begin{comment}

\begin{figure}[H]
  \centering
  \begin{tikzpicture}
    % Liste des places
    \draw (-2,4) node[below right = 4pt] {$E$};
    \node[draw,circle,scale=2] (E) at (-2, 4) {};
    \draw (-6,-2) node[below right = 4pt] {$ACK$};
    \node[draw,circle,scale=2] (ACK) at (-6, -2) {};
    \draw (-2,0) node[below = 6pt] {$M$};
    \node[draw,circle,scale=2] (M) at (-2,0) {};
    \draw (-2,-4) node[below right = 4pt] {$R$};
    \node[draw,circle,scale=2] (R) at (-2, -4) {};
    \draw (0,2) node[below right = 4pt] {$Att$};
    \node[draw,circle,scale=2] (At) at (0, 2) {};
    \draw (2,4) node[below right = 4pt] {$Re$};
    \node[draw,circle,scale=2] (Re) at (2,4) {};
    \draw (2,-2) node[below right = 4pt] {$NACK$};
    \node[draw,circle,scale=2] (NACK) at (2,-2) {};

    % Liste des transitions
    \draw (-6,0) node[below right= 4pt] {$T_3$};
    \draw (-6,0) node[below left= 4pt] {$Y_A$};
    \node[draw,rectangle,yscale=4] (T3) at (-6, 0) {};
    \draw (-4,-0.5) node[below right = 4pt] {$T_2$};
    \draw (-4,-0.5) node[below left = 4pt] {$M_A$};
    \node[draw,rectangle,yscale=4] (T2) at (-4, -0.5) {};
    \draw (-4,-2) node[below right= 4pt] {$T_4$};
    \draw (-4,-2) node[below left= 4pt] {$M_R$};
    \node[draw,rectangle,yscale=4] (T4) at (-4, -2) {};
    \draw (-2,2) node[left = 4pt] {$T_1$};
    \draw (-2,2) node[below left = 4pt] {$M_E$};
    \node[draw,rectangle,yscale=4] (T1) at (-2, 2) {};
    \draw (0,4) node[below right= 4pt] {$T_7$};
    \draw (0,4) node[below right= 4pt] {$M_{Re}$};
    \node[draw,rectangle,yscale=4] (T7) at (0, 4) {};
    \draw (0,-2) node[below right = 3pt] {$T_8$};
    \draw (0,-2) node[below right = 3pt] {$M_P$};
    \node[draw,rectangle,yscale=4] (T8) at (0, -2) {};
    \draw (2,2) node[below right = 3pt] {$T_5$};
    \draw (2,2) node[below right = 3pt] {$Y_N$};
    \node[draw,rectangle,yscale=4] (T5) at (2, 2) {};
    \draw (4,2) node[below right = 3pt] {$T_6$};
    \draw (4,2) node[below right = 3pt] {$M_N$};
    \node[draw,rectangle,yscale=4] (T6) at (4, 2) {};


    % Liste des arcs
    \draw[->,>=latex] (E) -- (T1);
    \draw[->,>=latex] (T1) -- (M);
    \draw[->,>=latex] (T1) -- (At);
    \draw[->,>=latex] (M) -- (T4);
    \draw[->,>=latex] (M) -- (T8);
    \draw[->,>=latex] (At) to[out=210,in=45] (T3);
    \draw[->,>=latex] (At) to[out=230,in=45] (T2);
    \draw[->,>=latex] (At) -- (T5);
    \draw[->,>=latex] (At) to[out=45, in=135] (T6);
    \draw[->,>=latex] (T4) -- (ACK);
    \draw[->,>=latex] (T4) to[bend left=35] (R);
    \draw[->,>=latex] (T8) -- (NACK);
    \draw[->,>=latex] (T8) to[bend left=35] (R);
    \draw[->,>=latex] (T3) to[out=90,in=115](Re);
    \draw[->,>=latex] (T2) -- (E);
    \draw[->,>=latex] (T5) -- (Re);
    \draw[->,>=latex] (T6) to[bend right=40] (Re);
    \draw[->,>=latex] (ACK) -- (T3);
    \draw[->,>=latex] (ACK) -- (T2);
    \draw[->,>=latex] (R) to[bend left=35] (T4);
    \draw[->,>=latex] (R) to[bend left=35] (T8);
    \draw[->,>=latex] (NACK) -- (T5);
    \draw[->,>=latex] (NACK) -- (T6);
    \draw[->,>=latex] (Re) -- (T7);
    \draw[->,>=latex] (T7) -- (At);
    \draw[->,>=latex] (T7) to[bend right=20] (M);

    %Marquage
    \draw [fill](-2,4) circle (0.1) ;
    \draw [fill](-2,-4) circle (0.1) ;

  \end{tikzpicture}
  \caption{Réseau de petri associé au protocole de communication après étiquetage des transitions} \label{fig:M1}
\end{figure}
\end{comment}

On crée le graphe de séquence suivant : \\

\begin{figure}[H]
  \centering
  \begin{tikzpicture}
    % Liste des Marquage
    \node (T1) at (0,4) {$T_1$};
    \node (T2) at (-1,0) {$T_2$};
    \node (T3) at (-3,0) {$T_3$};
    \node (T4) at (-2,2) {$T_4$};
    \node (T5) at (1,0) {$T_5$};
    \node (T6) at (3,0) {$T_6$};
    \node (T7) at (0,-2) {$T_7$};
    \node (T8) at (2,2) {$T_8$};
    % Liste des arcs
    \draw[->,>=latex] (T1) -- (T4);
    \draw[->,>=latex] (T1) -- (T8);
    \draw[->,>=latex] (T4) -- (T3);
    \draw[->,>=latex] (T4) -- (T2);
    \draw[->,>=latex] (T8) -- (T5);
    \draw[->,>=latex] (T8) -- (T6);
    \draw[->,>=latex] (T3) -- (T7);
    \draw[->,>=latex] (T2) to[bend right=30] (T1);
    \draw[->,>=latex] (T5) -- (T7);
    \draw[->,>=latex] (T6) -- (T7);
    \draw[->,>=latex] (T7) to[out=200,in=-80] (-3.5,-0.5) to[out=100, in=200] (T4);
    \draw[->,>=latex] (T7) to[out=-20,in=-80] (3.5,0.5) to[out=100, in=-20] (T8);

  \end{tikzpicture}
  \caption{Graphe de séquences} \label{fig:M10}
\end{figure}

Et on déduit le langage définit par l'expression :\\
\begin{center}
$(M_EM_RM_A)^*|M_E[(M_RY_A|M_P(Y_NM_P))M_{Re}]^*$
\end{center}

\subsection{Question 9}

Soit $\{M\}$ l'ensemble des marquage accessible depuis $M_0$\\
Soit $v : \{M\} \rightarrow \mathbb{N}$ l'application telle que :\\
$\forall M_i \in \{M\} : v(M_i) = 1-M_i(E)$\\
Il est clair que $v(M_i) = 0 \Leftrightarrow M_i = M_0$\\
\vspace{0.5cm}
donc $v$ est une norme pour $M_0$ \\
Alors $M_0$ est un etat d'accueil et le reseau est réinitialisable.


\subsection{Question 10}
$\forall M_i, \exists t$ une transition franchissable depuis $M_i$.\\
D'où le réseau est sans blocage.

\subsection{Question 11}

On peut trouver une séquence $S$ qui contienne tout les transitions.\\
ex : $S = t_1,t_4,t_3,t_7,t_8,t_5,t_7,t_8,t_6,t_4,t_2$\\
Donc le réseau est vivant

\subsection{Question 12}
Le graphe des marquage ne contient pas de noeud feuille donc le réseau est bien sans blocage.\\
Il existe un chemin dans le graphe passant par toutes les transitions donc le réseau est bien vivant.\\
$\forall M_i, \exists c$ un chemin de $M_i$ à $M_0$ donc le reseau est réinitialisable.

\subsection{Question 13}

